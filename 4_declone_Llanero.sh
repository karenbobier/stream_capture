#PBS -S /bin/bash
#PBS -q batch
#PBS -N declone_Llanero
#PBS -l nodes=1:ppn=12:tcgnode
#PBS -l walltime=48:00:00
#PBS -l mem=125gb
#PBS -M njbayonav@gmail.com
#PBS -m abe

cd $PBS_O_WORKDIR

#loading the software in the cluster
module load stacks/2.0beta7

#Running the declone_filter pipeline
mkdir /lustre1/njbayona/C_intermedius_3RAD/declone_all
set -ueo pipefail
FILE="COJ-M1
COJ-M13
COJ-M27
COJ-M39
MAN-M4
CAP-M8
CAP-M20
CAP-M34
COJ-M2
COJ-M14
COJ-M28
COJ-M40
MAN-M5
CAP-M9
CAP-M21
EBF-M1
COJ-M3
COJ-M15
COJ-M29
COJ-M41
MAN-M6
CAP-M10
CAP-M22
EBF-M2
COJ-M4
COJ-M16
COJ-M30
COJ-M42
MAN-M7
CAP-M11
CAP-M25
EBF-M3
COJ-M5
COJ-M17
COJ-M31
COJ-M43
MAN-M10
CAP-M12
CAP-M26
EBF-M4
COJ-M6
COJ-M18
COJ-M32
COJ-M44
CAP-M1
CAP-M13
CAP-M27
EBF-M5
COJ-M7
COJ-M21
COJ-M33
COJ-M45
CAP-M2
CAP-M14
CAP-M28
EBF-M6
COJ-M8
COJ-M22
COJ-M34
COJ-M46
CAP-M3
CAP-M15
CAP-M29
EBF-M7
COJ-M9
COJ-M23
COJ-M35
COJ-M47
CAP-M4
CAP-M16
CAP-M30
EBF-M8
COJ-M10
COJ-M24
COJ-M36
MAN-M1
CAP-M5
CAP-M17
CAP-M31
EBF-M9
COJ-M11
COJ-M25
COJ-M37
MAN-M2
CAP-M6
CAP-M18
CAP-M32
EBF-M10
COJ-M12
COJ-M26
COJ-M38
MAN-M3
CAP-M7
CAP-M19
CAP-M33
EBF-M11
EBF-M12
APM-M2
Z-UNEL-M1
Z-EBF-M7
PZBB-M2
MSG-M1
APM-M3
Z-UNEL-M2
Z-EBF-M10
PZBB-M4
MSG-M2
APM-M4
Z-UNEL-M3
Z-EBF-M11
ZMZ-M1
MSG-M3
APM-M5
Z-UNEL-M4
Z-EBF-M12
MSG-M4
APM-M7
Z-UNEL-M5
Z-EBF-M13
MSG-M5
APM-M8
Z-UNEL-M6
Z-EBF-M14
MSG-M8
APM-M9
Z-EBF-M1
ZLP-M1
MSG-M9
APM-M10
Z-EBF-M2
ZLP-M2
MSG-M10
APM-M11
Z-EBF-M3
ZLP-M3
MSG-M11
APM-M12
Z-EBF-M4
ZLP-M4
MSG-M12
ZLPA-M1
Z-EBF-M5
ZAV-M1
APM-M1
ZLPA-M2
Z-EBF-M6
PZBB-M1
"
i=1
for FNAME in $FILE
do
echo "declone_$FNAME"
clone_filter -P -1 /lustre1/njbayona/C_intermedius_3RAD/demultiplex_all/$FNAME.1.fq.gz -2 /lustre1/njbayona/C_intermedius_3RAD/demultiplex_all/$FNAME.2.fq.gz -o /lustre1/njbayona/C_intermedius_3RAD/declone_all/ -i gzfastq --null_index --oligo_len_2 8
let "i+=1";
done